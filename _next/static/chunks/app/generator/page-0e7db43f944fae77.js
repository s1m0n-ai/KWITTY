(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[367],{8073:function(e,t,n){Promise.resolve().then(n.bind(n,3471))},3471:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var a=n(7437),r=n(2265),i=n(3145),s={src:"/_next/static/media/pawtemplate.a1e5dd18.png",height:644,width:1156,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAAM1BMVEVMaXGEwNEA//+DvdCX2+5un66Ny91Xe4eT1egA//+Iw9N3rb2Y3fGDvs2W2uym7/6u+//v/x0xAAAAD3RSTlMAoAKE2CyeHecBzkL8V8TQdygSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAKElEQVR4nAXBhwEAIAjAsKIsJ/5/rQmeqtdPYPPtepVgPZZk0QYMQj4TBQDueJa3fgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:4},o={src:"/_next/static/media/cattemplate.9c8d1bca.png",height:2173,width:1777,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAICAMAAAAC2hU0AAAATlBMVEXE2dlOdYmPz+GEwNB4vc+W2eyAvc2V1eiR0eR/t8iN0OOJxNWjtMgAAAAAAAB5rr2OuMue5/lSbXWe4/d/sMCNucpGY2yr0OSOzN6p8/8YxcOPAAAAE3RSTlMBDXBeQP393KkeU3XLNRrttvH9W2ZYBAAAAAlwSFlzAAALEwAACxMBAJqcGAAAADlJREFUeJwtxckBgCAMAMFFgQRvCIr03ygPnc8AaM8XcJxvbMzs9SkBFb/dseImEbMApMWvxkf/0wBCmQG2+E5APQAAAABJRU5ErkJggg==",blurWidth:7,blurHeight:8};let l=e=>{let{isOpen:t,onClose:n}=e;return t?(0,a.jsx)("div",{className:"modal-overlay",onClick:n,children:(0,a.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("h2",{children:"BOOP your friends!"}),(0,a.jsxs)("div",{className:"game-rules",children:[(0,a.jsxs)("div",{className:"rule-step",children:[(0,a.jsx)("div",{className:"step-number",children:"1"}),(0,a.jsx)("p",{children:"Upload your friend's PFP"})]}),(0,a.jsxs)("div",{className:"rule-step",children:[(0,a.jsx)("div",{className:"step-number",children:"2"}),(0,a.jsx)("p",{children:"Adjust the BOOP hand size and position"})]}),(0,a.jsxs)("div",{className:"rule-step",children:[(0,a.jsx)("div",{className:"step-number",children:"3"}),(0,a.jsx)("p",{children:"Share your BOOPed creation and tag them!"})]})]}),(0,a.jsx)("div",{className:"modal-buttons",children:(0,a.jsx)("button",{className:"modal-close-btn",onClick:n,children:"Got it!"})})]})}):null},c=e=>{let{onImageUpload:t,onShowRules:n}=e;return(0,a.jsxs)("div",{className:"upload-prompt",children:[(0,a.jsx)("p",{children:"TEST Upload your friend's PFP to BOOP them!"}),(0,a.jsxs)("div",{className:"upload-btn-wrapper",children:[(0,a.jsxs)("button",{className:"upload-btn",children:[(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M9 10C10.1046 10 11 9.10457 11 8C11 6.89543 10.1046 6 9 6C7.89543 6 7 6.89543 7 8C7 9.10457 7.89543 10 9 10Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M13 2H9C4 2 2 4 2 9V15C2 20 4 22 9 22H15C20 22 22 20 22 15V10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M18 2V8L20 6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M18 8L16 6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M2.67004 18.9501L7.60004 15.6401C8.39004 15.1101 9.53004 15.1701 10.24 15.7801L10.57 16.0701C11.35 16.7401 12.61 16.7401 13.39 16.0701L17.55 12.5001C18.33 11.8301 19.59 11.8301 20.37 12.5001L22 13.9001",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Upload Image"]}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:t})]}),(0,a.jsxs)("button",{className:"rules-btn",onClick:n,children:[(0,a.jsx)("span",{className:"icon",children:"?"}),(0,a.jsx)("span",{children:"How to BOOP"})]}),(0,a.jsx)("p",{className:"resize-warning",children:"Note: Resizing browser window may cause alignment issues"})]})},d=e=>{let{overlayType:t,onChange:n}=e;return(0,a.jsxs)("div",{className:"template-toggle",children:[(0,a.jsx)("button",{className:"template-button ".concat("paw"===t?"active":""),onClick:()=>n("paw"),"aria-label":"Use paw template",children:"Paw"}),(0,a.jsx)("button",{className:"template-button ".concat("cat"===t?"active":""),onClick:()=>n("cat"),"aria-label":"Use cat template",children:"Cat"})]})};n(2080),n(2891);let h=e=>{let{isRightFacing:t,overlayImage:n,overlayType:s,containerAspectRatio:o}=e,l=(0,r.useRef)(null),[c,d]=(0,r.useState)(!1),[h,u]=(0,r.useState)(!1),[g,m]=(0,r.useState)({width:0,height:0}),[p,x]=(0,r.useState)({x:0,y:0}),[w,A]=(0,r.useState)(0);(0,r.useEffect)(()=>{if(l.current){let e="paw"===s?1.664:.756;l.current.style.setProperty("--overlay-aspect-ratio",e.toString())}},[s]);let v=e=>{if(!h||!l.current)return;let t=e.clientY-p.y,n=l.current.parentElement;if(n){let e=n.getBoundingClientRect(),a=l.current.offsetHeight,r=(e.height-a)/2;A(e=>Math.max(-r,Math.min(r,e+t)))}u(!1),e.target.releasePointerCapture(e.pointerId)},j=e=>{l.current&&(d(!0),x({x:e.clientX,y:e.clientY}),e.target.setPointerCapture(e.pointerId))},y=e=>{if(!c||!l.current)return;let n=l.current.parentElement;if(!n)return;let a=n.getBoundingClientRect(),r=l.current.getBoundingClientRect(),i=e.clientX-p.x,s=r.width,o=Math.min(Math.max(.25*a.width,s+(t?-i:i)),.8*a.width)/a.width*100;l.current.style.width="".concat(o,"%"),x({x:e.clientX,y:e.clientY})},b=e=>{d(!1),e.target.releasePointerCapture(e.pointerId)};return(0,a.jsxs)("div",{ref:l,className:"overlay-wrapper ".concat(t?"right-facing":"left-facing"),onPointerDown:e=>{!(!l.current||e.target instanceof HTMLButtonElement)&&(e.target.classList.contains("resize-handle")||(u(!0),x({x:e.clientX,y:e.clientY}),e.target.setPointerCapture(e.pointerId)))},onPointerMove:e=>{if(!h||!l.current)return;let t=l.current.parentElement;if(!t)return;let n=t.getBoundingClientRect(),a=l.current.getBoundingClientRect(),r=e.clientY-p.y,i=-((n.height-a.height)/2),s=(n.height-a.height)/2;l.current.style.transform="translateY(calc(-50% + ".concat(Math.max(i,Math.min(s,w+r)),"px))")},onPointerUp:v,onPointerCancel:v,children:[(0,a.jsx)("div",{className:"resize-handle top",onPointerDown:j,onPointerMove:y,onPointerUp:b,onPointerCancel:b}),(0,a.jsx)("div",{className:"resize-handle bottom",onPointerDown:j,onPointerMove:y,onPointerUp:b,onPointerCancel:b}),(0,a.jsx)(i.default,{src:n,alt:"BOOP ".concat(s),className:"hand-overlay ".concat(t?"right-facing":"left-facing"),fill:!0,sizes:"(max-width: 768px) 100vw, 50vw",priority:!0})]})};var u=n(2451),g=n(407),m=n(4810),p=n.n(m);let x=e=>{let{isOpen:t,onClose:n,onAction:r,actionText:i,children:s,hideAction:o}=e;return(0,a.jsxs)(p(),{isOpen:t,onRequestClose:n,className:"modal-content",overlayClassName:"modal-overlay",ariaHideApp:!1,children:[(0,a.jsx)("div",{className:"modal-header",children:(0,a.jsx)("button",{className:"close-button",onClick:n,children:(0,a.jsx)("span",{children:"\xd7"})})}),(0,a.jsx)("div",{className:"modal-body",children:s}),!o&&(0,a.jsx)("div",{className:"modal-footer",children:(0,a.jsx)("button",{className:"modal-action-btn",onClick:r,children:i})})]})};var w=n(4457),A=n.n(w);let v=async e=>{var t;if(!e)return null;let n={container:{border:e.style.border,borderRadius:e.style.borderRadius,width:e.style.width,height:e.style.height},image:{borderRadius:(null===(t=e.querySelector(".uploaded-image"))||void 0===t?void 0:t.style.borderRadius)||""}};e.style.border="none",e.style.borderRadius="0";let a=e.querySelector(".uploaded-image");a&&(a.style.borderRadius="0");let r=e.querySelector(".overlay-wrapper"),i=e.querySelectorAll(".resize-handle"),s=(null==r?void 0:r.style.border)||"";r&&(r.style.border="none",i.forEach(e=>e.style.display="none"));try{return{canvas:await A()(e,{backgroundColor:null,scale:4,useCORS:!0,logging:!1,imageTimeout:0,allowTaint:!0}),cleanup:()=>{e.style.border=n.container.border,e.style.borderRadius=n.container.borderRadius,e.style.width=n.container.width,e.style.height=n.container.height,a&&(a.style.borderRadius=n.image.borderRadius),r&&(r.style.border=s,i.forEach(e=>e.style.display=""))}}}catch(e){if(e instanceof Error)throw Error("Failed to process image: "+e.message);throw Error("Failed to process image")}},j=e=>{let{showButtons:t,onReset:n,onShowRules:i}=e,[s,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),[d,h]=(0,r.useState)(null),[u,g]=(0,r.useState)(!1),[m,p]=(0,r.useState)(!1),w=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),A=async()=>{g(!0);try{let e=document.querySelector(".image-container"),t=await v(e);if(!t)return;let{canvas:n,cleanup:a}=t,r=n.toDataURL("image/png");if(h(r),!w){let e=await new Promise(e=>{n.toBlob(t=>{t&&e(t)},"image/png")}),t=new ClipboardItem({"image/png":e});await navigator.clipboard.write([t])}o(!0),a()}catch(e){console.error("Error preparing tweet:",e),alert("Failed to prepare image. Please try again.")}finally{g(!1)}},j=async()=>{p(!0);try{let e=document.querySelector(".image-container"),t=await v(e);if(!t)return;let{canvas:n,cleanup:a}=t,r=n.toDataURL("image/png");h(r),c(!0),a()}catch(e){console.error("Error saving image:",e),alert("Failed to save image. Please try again.")}finally{p(!1)}};return(0,a.jsxs)("div",{className:"buttons-container",children:[t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"reset-btn",onClick:n,children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 21 21",children:(0,a.jsxs)("g",{fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",children:[(0,a.jsx)("path",{d:"M3.578 6.487A8 8 0 1 1 2.5 10.5"}),(0,a.jsx)("path",{d:"M7.5 6.5h-4v-4"})]})})}),(0,a.jsx)("button",{className:"rules-btn",onClick:i,children:(0,a.jsx)("span",{className:"icon",children:"?"})}),(0,a.jsx)("button",{className:"tweet-btn",onClick:A,children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),(0,a.jsx)("button",{className:"save-btn",onClick:j,children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,a.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,a.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,a.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})})]}),(0,a.jsx)(x,{isOpen:s,onClose:()=>{o(!1),h(null)},onAction:()=>{let e=encodeURIComponent("BOOP @friend you're it!\n\nBOOP your friends at boopcat.meme!\n@BOOPsol_");window.open("https://twitter.com/intent/tweet?text=".concat(e),"_blank"),o(!1),h(null)},actionText:"Draft Tweet",children:(0,a.jsx)("div",{className:"save-preview-container",children:d&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:d,alt:"Save Preview",className:"save-preview-image"}),(0,a.jsxs)("div",{className:"tweet-instructions",children:[(0,a.jsx)("h2",{children:"IMPORTANT!"}),w?(0,a.jsx)("p",{children:"Tap and hold the image above to save. Then click the button below to open X, upload the image and tag your friend!"}):(0,a.jsx)("p",{children:"Right click the image above to save. Then click the button below to open X, upload the image and tag your friend!"})]})]})})}),(0,a.jsx)(x,{isOpen:l,onClose:()=>{c(!1),h(null)},onAction:()=>c(!1),actionText:"",hideAction:!0,children:(0,a.jsx)("div",{className:"save-preview-container",children:d&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:d,alt:"Save Preview",className:"save-preview-image"}),(0,a.jsx)("p",{className:"save-instructions",children:w?"Tap and hold the image above to save it to your device":"Right click the image above and select 'Save image as...'"})]})})})]})};function y(){let[e,t]=(0,r.useState)(null),[n,m]=(0,r.useState)(1),[p,x]=(0,r.useState)("paw"),w=(0,r.useRef)(null),[A,v]=(0,r.useState)({width:"40%",height:"auto"}),[y,b]=(0,r.useState)(!0),[f,C]=(0,r.useState)(0),[N,k]=(0,r.useState)(!1),[P,R]=(0,r.useState)({width:400,height:400});return(0,r.useEffect)(()=>()=>{w.current&&(w.current.style.removeProperty("--container-width"),w.current.style.removeProperty("--container-height"))},[]),(0,a.jsxs)("div",{className:"boop-app app-container ".concat(e?"":"no-image"),children:[(0,a.jsxs)("div",{className:"generator-layout",children:[e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"template-toggle-container",children:(0,a.jsx)(d,{overlayType:p,onChange:x})}),(0,a.jsxs)("div",{className:"orientation-buttons",children:[(0,a.jsx)("button",{className:"orientation-button left ".concat(y?"":"active"),onClick:()=>b(!1),"aria-label":"Face left",disabled:!y,children:(0,a.jsx)(u.Z,{})}),(0,a.jsx)("button",{className:"orientation-button right ".concat(y?"active":""),onClick:()=>b(!0),"aria-label":"Face right",disabled:y,children:(0,a.jsx)(g.Z,{})})]})]}),(0,a.jsx)("div",{ref:w,className:"image-container ".concat(e?"has-image":""),children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.default,{src:e,alt:"Uploaded image",className:"uploaded-image",width:P.width,height:P.height,quality:100,style:{objectFit:"contain"},priority:!0}),(0,a.jsx)(h,{isRightFacing:y,overlayImage:"paw"===p?s:o,overlayType:p,containerAspectRatio:n})]}):(0,a.jsx)(c,{onImageUpload:e=>{var n;let a=null===(n=e.target.files)||void 0===n?void 0:n[0];if(a){let e=document.createElement("img");e.onload=()=>{R({width:e.width,height:e.height});let t=e.width/e.height;if(m(t),w.current){let n,a;let r=window.innerHeight,i=window.innerWidth,s=Math.min(.6*r,500),o=Math.min(.9*i,500);t>1?(a=(n=Math.min(e.width,o))/t)>s&&(n=(a=s)*t):(n=(a=Math.min(e.height,s))*t)>o&&(a=(n=o)/t),w.current.style.setProperty("--container-width","".concat(n,"px")),w.current.style.setProperty("--container-height","".concat(a,"px"))}},e.src=URL.createObjectURL(a),t(e.src)}},onShowRules:()=>k(!0)})})]}),(0,a.jsx)(j,{showButtons:!!e,onReset:()=>{t(null),v({width:"40%",height:"auto"}),C(0),w.current&&(w.current.style.removeProperty("--container-width"),w.current.style.removeProperty("--container-height"))},onShowRules:()=>k(!0)}),(0,a.jsx)(l,{isOpen:N,onClose:()=>k(!1)}),(0,a.jsx)("div",{className:"resize-warning-text",children:"Resizing the window can cause issues. Reset to fix."})]})}},2080:function(){},2891:function(){}},function(e){e.O(0,[554,668,337,795,971,117,744],function(){return e(e.s=8073)}),_N_E=e.O()}]);